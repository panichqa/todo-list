{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
    <h2>Task List</h2>

    <div>
        <a href="{% url 'task_create' %}" class="btn">Add New Task</a>
    </div>

    <ul>
        {% for task in tasks %}
            <li>
                <strong>{{ task.content }}</strong> - Created: {{ task.created_at }} 
                {% if task.deadline %}- Deadline: {{ task.deadline }}{% endif %}
                - {% if task.is_done %}Completed{% else %}Not Completed{% endif %}
                <a href="{% url 'task_update' task.id %}">Edit</a> |
                <a href="{% url 'task_delete' task.id %}">Delete</a> |
                {% if task.is_done %}
                    <a href="{% url 'task_undo' task.id %}">Undo</a>
                {% else %}
                    <a href="{% url 'task_complete' task.id %}">Complete</a>
                {% endif %}
            </li>
        {% empty %}
            <li>No tasks available.</li>
        {% endfor %}
    </ul>
{% endblock %}
